import streamlit as st

class BankAccount:
    def _init_(self, name, balance=0):
        self.name = name
        self.balance = balance

    def deposit(self, amount):
        if amount > 0:
            self.balance += amount
            return f"âœ… Deposited Â£{amount}. New balance: Â£{self.balance}"
        return "âŒ Deposit amount must be positive."

    def check_balance(self):
        return self.balance


class SavingsAccount(BankAccount):
    WITHDRAWAL_LIMIT = 500

    def withdraw(self, amount):
        if amount > self.balance:
            return "âŒ Insufficient funds."
        elif amount > SavingsAccount.WITHDRAWAL_LIMIT:
            return f"âŒ Limit exceeded. Max is Â£{SavingsAccount.WITHDRAWAL_LIMIT}."
        elif amount <= 0:
            return "âŒ Enter a valid amount."
        self.balance -= amount
        return f"ğŸ’¸ Withdrew Â£{amount}. New balance: Â£{self.balance}"


class CurrentAccount(BankAccount):
    def withdraw(self, amount):
        if amount > self.balance:
            return "âŒ Insufficient funds."
        elif amount <= 0:
            return "âŒ Enter a valid amount."
        self.balance -= amount
        return f"ğŸ’¸ Withdrew Â£{amount}. New balance: Â£{self.balance}"


if "savings" not in st.session_state:
    st.session_state.savings = SavingsAccount("Savings", 1000)

if "current" not in st.session_state:
    st.session_state.current = CurrentAccount("Current", 1500)

st.title("ğŸ¦ Simple Bank App (Streamlit Version)")

account_type = st.selectbox("Choose Account Type", ["Savings", "Current"])
amount = st.number_input("Enter amount (Â£):", min_value=0.0, step=10.0)

account = st.session_state.savings if account_type == "Savings" else st.session_state.current

col1, col2, col3 = st.columns(3)

with col1:
    if st.button("ğŸ’° Deposit"):
        result = account.deposit(amount)
        st.success(result)

with col2:
    if st.button("ğŸ’¸ Withdraw"):
        result = account.withdraw(amount)
        if result.startswith("âŒ"):
            st.error(result)
        else:
            st.success(result)

with col3:
    if st.button("ğŸ“Š Check Balance"):
        st.info(f"ğŸ’¼ {account.name} Balance: Â£{account.check_balance()}")
